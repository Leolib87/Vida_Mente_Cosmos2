<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a Interactiva de Herramientas de Investigaci√≥n</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .active-filter { background-color: #14b8a6; color: white; border-color: #14b8a6;}
        .filter-btn { transition: all 0.2s ease-in-out; }
        .tool-card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, border-color 0.2s ease-in-out; }
        .tool-card:hover { transform: translateY(-5px); border-color: #14b8a6; box-shadow: 0 10px 15px -3px rgb(20 184 166 / 0.1), 0 4px 6px -4px rgb(20 184 166 / 0.1); }
        .modal-bg { transition: opacity 0.3s ease; }
        .modal-box { transition: transform 0.3s ease, opacity 0.3s ease; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; height: 400px; max-height: 60vh; }
        @media (min-width: 768px) { .chart-container { height: 500px; } }
        input[type="search"]::-webkit-search-cancel-button { display: none; }
    </style>
</head>
<body class="bg-black text-slate-300">

    <div id="app" class="container mx-auto px-4 py-8 md:py-12">

        <header class="text-center mb-10 md:mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-teal-400 mb-3">Gu√≠a Definitiva de Herramientas de Investigaci√≥n</h1>
            <p class="text-lg text-slate-400 max-w-3xl mx-auto">Una base de datos interactiva para explorar, filtrar y comparar las mejores herramientas de IA y no-IA para el trabajo acad√©mico.</p>
        </header>

        <main>
            <section id="interactive-controls" class="mb-10 p-6 bg-slate-900/50 rounded-lg border border-slate-800">
                <div class="grid md:grid-cols-3 gap-6 items-end">
                    <div class="md:col-span-2">
                        <label for="search-input" class="block mb-2 text-sm font-medium text-slate-200">Buscar por nombre</label>
                        <input type="search" id="search-input" placeholder="Ej: ChatGPT, Zotero..." class="w-full bg-slate-800 border border-slate-700 text-slate-200 rounded-md p-2 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                    </div>
                    <div>
                        <label for="sort-select" class="block mb-2 text-sm font-medium text-slate-200">Ordenar por</label>
                        <select id="sort-select" class="w-full bg-slate-800 border border-slate-700 text-slate-200 rounded-md p-2 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                            <option value="name_asc">Nombre (A-Z)</option>
                            <option value="name_desc">Nombre (Z-A)</option>
                        </select>
                    </div>
                </div>
                 <div class="mt-6">
                    <h3 class="text-sm font-medium text-slate-200 mb-3">Filtrar por categor√≠a</h3>
                    <div id="filter-container" class="flex flex-wrap gap-2 md:gap-3"></div>
                </div>
            </section>

            <section id="tools-grid-section">
                <div id="tools-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                </div>
                 <p id="no-results" class="text-center text-slate-500 col-span-full hidden">No se encontraron herramientas que coincidan con su b√∫squeda.</p>
            </section>
            
            <section id="summary-chart" class="mt-16 md:mt-24 pt-12 border-t border-slate-800">
                <h2 class="text-2xl md:text-3xl font-bold text-center text-slate-100 mb-4">Panorama del Ecosistema de Herramientas</h2>
                <p class="text-center text-slate-400 max-w-2xl mx-auto mb-8">Este gr√°fico resume la distribuci√≥n de las herramientas analizadas, clasificadas por su naturaleza (IA vs. No-IA) y su modelo de precios. Ofrece una visi√≥n r√°pida de las tendencias en el desarrollo de software acad√©mico.</p>
                <div class="chart-container">
                    <canvas id="toolsChart"></canvas>
                </div>
            </section>
        </main>

    </div>

    <div id="toolModal" class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-50 hidden modal-bg">
        <div class="bg-slate-900 rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto modal-box border border-slate-700">
            <div class="p-6 md:p-8">
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h2 id="modal-name" class="text-2xl md:text-3xl font-bold text-teal-400"></h2>
                        <div class="flex flex-wrap gap-2 mt-2">
                           <span id="modal-type-badge" class="text-xs font-medium mr-2 px-2.5 py-1 rounded-full"></span>
                           <span id="modal-cost-badge" class="text-xs font-medium mr-2 px-2.5 py-1 rounded-full"></span>
                        </div>
                    </div>
                    <button id="closeModal" class="text-3xl leading-none text-slate-500 hover:text-white transition">√ó</button>
                </div>

                <div class="space-y-6">
                    <div>
                        <h3 class="font-semibold text-lg text-slate-200 mb-2 border-b border-slate-700 pb-2">Funci√≥n Principal</h3>
                        <p id="modal-function" class="text-slate-400"></p>
                    </div>

                    <div>
                        <h3 class="font-semibold text-lg text-slate-200 mb-2 border-b border-slate-700 pb-2">Costo</h3>
                        <p id="modal-cost" class="text-slate-400"></p>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="font-semibold text-lg text-green-400 mb-2 border-b border-green-800 pb-2">Ventajas</h3>
                            <ul id="modal-pros" class="list-disc list-inside space-y-1.5 text-slate-400"></ul>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg text-red-400 mb-2 border-b border-red-800 pb-2">Desventajas</h3>
                            <ul id="modal-cons" class="list-disc list-inside space-y-1.5 text-slate-400"></ul>
                        </div>
                    </div>

                    <div id="modal-link-container" class="pt-6 border-t border-slate-700">
                        <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="block w-full text-center bg-teal-600 text-white font-bold py-3 px-5 rounded-md hover:bg-teal-500 transition-colors duration-200">
                            Visitar Sitio Web ‚Üí
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const toolsData = [
        { name: "otto-SR", type: "IA", category: "Investigaci√≥n y Academia", cost_type: "Gratuito", cost: "Acceso gratuito ('Get access ($0)'). No se mencionan planes de pago en el texto.", func: "Realiza revisiones sistem√°ticas de investigaci√≥n de extremo a extremo, procesando miles de art√≠culos para filtrar, analizar y extraer datos en horas en lugar de meses.", pros: ["Reduce dr√°sticamente el tiempo de las revisiones sistem√°ticas.", "Rendimiento superior al humano para encontrar estudios relevantes.", "Gestiona el proceso completo, desde la b√∫squeda hasta la extracci√≥n de datos.", "Acceso gratuito."], cons: ["Herramienta muy especializada, √∫til solo para revisiones sistem√°ticas.", "La calidad del resultado depende de la precisi√≥n del protocolo de investigaci√≥n que se le proporciona.", "Requiere supervisi√≥n humana en cada paso del proceso."], url: "https://ottosr.com/" },
        { name: "A4i (o A4 AI)", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "Gratuito con 500 MB. Planes Pro/Ilimitados de pago.", func: "Chatea con m√∫ltiples documentos y extrae datos con instrucciones.", pros: ["Excelente para extraer datos de m√∫ltiples art√≠culos.", "Conversaci√≥n simult√°nea con varios documentos."], cons: ["Algunas funciones solo en planes de pago."], url: "https://a4i.ai/" },
        { name: "AI2 Paperfinder", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Gratis", cost: "Completamente gratuito.", func: "Descubrimiento de art√≠culos cient√≠ficos con b√∫squeda y orden por relevancia, a√±o, etc.", pros: ["Fant√°stica herramienta gratuita.", "Exporta citas en BibTeX, JSON, Markdown.", "Del mismo equipo de Semantic Scholar."], cons: [], url: "https://paper-finder.allen.ai/" },
        { name: "AI2 Scholar QA", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Gratis", cost: "Completamente gratuito.", func: "Sintetiza y cita m√∫ltiples art√≠culos para responder preguntas de investigaci√≥n.", pros: ["Excelente para obtener una visi√≥n general r√°pida.", "Respuestas bien referenciadas y estructuradas."], cons: [], url: "https://scholarqa.allen.ai/" },
        { name: "Anna's Archive", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Acceso a una gran cantidad de art√≠culos (97 millones).", pros: ["Alternativa a Sci-Hub para documentos m√°s recientes."], cons: ["Controversial, opera en zona gris legal."], url: "https://annas-archive.org/" },
        { name: "Answer This", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "6 revisiones gratuitas y 8 documentos para chatear. Planes de pago para m√°s.", func: "Genera revisiones de literatura, sugiere preguntas de investigaci√≥n, identifica brechas.", pros: ["Buen punto de partida para revisiones.", "√ötil para generar preguntas de investigaci√≥n."], cons: ["La ayuda para prompts es b√°sica.", "Interfaz poco intuitiva en ventanas peque√±as."], url: "https://www.answerthis.io/" },
        { name: "ArXiv", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Archivo de prepublicaciones para investigaci√≥n de vanguardia no revisada por pares.", pros: ["Acceso a lo √∫ltimo en muchos campos (f√≠sica, CS)."], cons: ["No es revisado por pares."], url: "https://arxiv.org/" },
        { name: "Asana", type: "No-IA", category: "Gesti√≥n de Proyectos", cost_type: "Freemium", cost: "Plan b√°sico gratuito generoso. Planes Premium y Business de pago.", func: "Plataforma de gesti√≥n de proyectos para organizar tareas, plazos y colaboraci√≥n en equipos.", pros: ["Excelente para visualizar flujos de trabajo.", "M√∫ltiples vistas (lista, tablero, calendario)."], cons: ["Puede ser complejo para proyectos muy peque√±os."], url: "https://asana.com/" },
        { name: "Audionotes.io", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "No especificado, probablemente freemium.", func: "Convierte p√°ginas web y PDFs en res√∫menes de audio.", pros: ["√ötil para quienes prefieren escuchar que leer."], cons: ["El tono del audio puede ser 'demasiado grandioso'."], url: "https://audionotes.io/" },
        { name: "BibTeX", type: "No-IA", category: "Gesti√≥n de Referencias", cost_type: "Gratis", cost: "Completamente gratuito.", func: "Sistema de gesti√≥n de bibliograf√≠a para LaTeX.", pros: ["Integraci√≥n perfecta con documentos LaTeX.", "Amplia base de datos de estilos de cita."], cons: ["Requiere conocimiento de LaTeX.", "Menos intuitivo para usuarios no familiarizados con LaTeX."], url: "https://www.bibtex.org/" },
        { name: "BioRender", type: "No-IA", category: "Creaci√≥n de Figuras", cost_type: "Freemium", cost: "Plan gratuito para uso educativo con limitaciones. Planes de pago para publicaci√≥n.", func: "Crea ilustraciones cient√≠ficas profesionales, especialmente para ciencias de la vida.", pros: ["Enorme biblioteca de iconos cient√≠ficos pre-hechos.", "Est√°ndar en biolog√≠a."], cons: ["La licencia gratuita no permite publicar en revistas."], url: "https://www.biorender.com/" },
        { name: "ChatGPT", type: "IA", category: "LLMs", cost_type: "Freemium", cost: "Versi√≥n gratuita potente. Planes Plus/Premium para funciones avanzadas.", func: "LLM vers√°til para redacci√≥n, edici√≥n, an√°lisis de datos, comprensi√≥n de documentos.", pros: ["Muy vers√°til.", "Excelente para extraer informaci√≥n de figuras.", "Se auto-corrige en an√°lisis de datos."], cons: ["Riesgo de 'alucinaciones'.", "La exportaci√≥n de referencias puede ser problem√°tica.", "Puede ser detectado como IA."], url: "https://chat.openai.com/" },
        { name: "Claude", type: "IA", category: "LLMs", cost_type: "Freemium", cost: "Acceso gratuito mencionado, con versiones pro de pago.", func: "LLM con gran ventana de contexto, an√°lisis de datos, renderizado LaTeX.", pros: ["Bueno para an√°lisis de datos (Python y R).", "√ötil para crear estilos de escritura personalizados."], cons: ["No realiza b√∫squedas acad√©micas directas.", "El renderizado LaTeX no es perfecto."], url: "https://claude.ai/" },
        { name: "Connected Papers", type: "IA", category: "Mapeo y Visualizaci√≥n", cost_type: "Freemium", cost: "Gratuito para 5 gr√°ficos al mes. Plan de pago para ilimitados.", func: "Crea un gr√°fico de red de art√≠culos relacionados.", pros: ["√ötil para explorar visualmente conexiones.", "Ayuda a encontrar brechas en la investigaci√≥n."], cons: ["La interpretaci√≥n del gr√°fico no es intuitiva."], url: "https://www.connectedpapers.com/" },
        { name: "Consensus", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "Funciones clave gratuitas. Planes de pago para m√°s.", func: "Responde preguntas de investigaci√≥n con una visi√≥n del consenso en la literatura.", pros: ["Excelente para obtener una visi√≥n amplia.", "Opciones de filtrado rigurosas."], cons: ["Las funciones avanzadas son de pago."], url: "https://consensus.app/" },
        { name: "Directory of Open Access Journals", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Directorio para encontrar art√≠culos de acceso abierto.", pros: ["Fuente fiable para investigaci√≥n OA."], cons: [], url: "https://doaj.org/" },
        { name: "Documind.chat", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "De Pago", cost: "Niveles de pago para estudiantes y profesionales.", func: "Chatea con m√∫ltiples PDFs, extrae informaci√≥n y genera contenido.", pros: ["Destaca en el chat multi-documento.", "Potente para generar texto a partir de PDFs."], cons: ["Requiere suscripci√≥n para un uso serio."], url: "https://documind.chat/" },
        { name: "Duply Checker", type: "No-IA", category: "Detecci√≥n de Plagio", cost_type: "Freemium", cost: "No especificado.", func: "Eval√∫a el porcentaje de similitud de un texto.", pros: ["Herramienta de comprobaci√≥n r√°pida."], cons: ["Menos exhaustivo que soluciones institucionales."], url: "https://www.duplichecker.com/" },
        { name: "Elicit", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "Nivel gratuito generoso. Planes de pago para funciones avanzadas.", func: "B√∫squeda y an√°lisis de literatura con b√∫squeda sem√°ntica y res√∫menes.", pros: ["Excelente para encontrar investigaci√≥n relevante.", "√ötil para el an√°lisis de campos de investigaci√≥n."], cons: ["Las funciones m√°s potentes son de pago."], url: "https://elicit.com/" },
        { name: "EndNote", type: "No-IA", category: "Gesti√≥n de Referencias", cost_type: "De Pago", cost: "Caro, pero a menudo cubierto por las universidades.", func: "Gestor de referencias completo para organizar, buscar y citar art√≠culos.", pros: ["Muy completo, automatiza citas y bibliograf√≠as en Word."], cons: ["Caro sin acceso institucional.", "La entrada manual es tediosa."], url: "https://endnote.com/" },
        { name: "Gemini", type: "IA", category: "LLMs", cost_type: "Freemium", cost: "En gran parte gratuito. Versi√≥n avanzada de pago.", func: "Potente modelo de IA para investigaci√≥n profunda, generaci√≥n de borradores, etc.", pros: ["Considerado 'campe√≥n mundial' para la academia.", "Genera informes altamente referenciados.", "Tasa de alucinaci√≥n muy baja."], cons: ["Las referencias no siempre son exportables f√°cilmente."], url: "https://gemini.google.com/" },
        { name: "Gen Spark", type: "IA", category: "Escritura y Citaci√≥n", cost_type: "Freemium", cost: "Cr√©ditos iniciales gratuitos. Opciones de pago.", func: "Genera revisiones de literatura, borradores de art√≠culos y presentaciones.", pros: ["Revisiones de literatura detalladas y bien estructuradas."], cons: ["Encuentra menos fuentes que otras herramientas.", "La generaci√≥n de im√°genes es de baja calidad."], url: "https://www.genspark.ai/" },
        { name: "Google Docs", type: "No-IA", category: "Colaboraci√≥n", cost_type: "Gratis", cost: "Completamente gratuito.", func: "Procesador de texto en l√≠nea para colaboraci√≥n en tiempo real.", pros: ["F√°cil de usar y accesible desde cualquier dispositivo.", "Permite comentarios y sugerencias en tiempo real."], cons: ["Funcionalidades de formato limitadas en comparaci√≥n con procesadores de texto de escritorio.", "Requiere conexi√≥n a internet."], url: "https://docs.google.com/" },
        { name: "Google Scholar", type: "No-IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Gratis", cost: "Gratuito.", func: "Motor de b√∫squeda acad√©mico.", pros: ["Amplia cobertura.", "Filtros de b√∫squeda avanzada."], cons: ["Indexa contenido de pago.", "Menos funciones de IA que las herramientas nuevas."], url: "https://scholar.google.com/" },
        { name: "Grammarly", type: "IA", category: "Asistentes de Escritura (General)", cost_type: "Freemium", cost: "Plan gratuito potente. Premium desbloquea sugerencias de estilo, tono y claridad.", func: "Asistente de escritura que comprueba gram√°tica, ortograf√≠a, puntuaci√≥n y tono.", pros: ["Extremadamente popular y f√°cil de usar.", "Buenas sugerencias para escritura general."], cons: ["Menos especializado en lenguaje acad√©mico que Writefull."], url: "https://www.grammarly.com/" },
        { name: "Grok AI", type: "IA", category: "LLMs", cost_type: "De Pago", cost: "Requiere pago de X Premium.", func: "LLM con acceso a internet en tiempo real y a la plataforma X (Twitter).", pros: ["Puede incluir publicaciones de X en los resultados.", "√ötil para crear estructuras de revisi√≥n."], cons: ["No muy eficaz para encontrar literatura revisada por pares de alta calidad."], url: "https://x.ai/grok" },
        { name: "Inkscape", type: "No-IA", category: "Creaci√≥n de Figuras", cost_type: "Gratis", cost: "Completamente gratuito y de c√≥digo abierto.", func: "Editor de gr√°ficos vectoriales para crear y pulir figuras de alta calidad para publicaci√≥n.", pros: ["Control total sobre cada elemento gr√°fico.", "Alternativa gratuita a Adobe Illustrator."], cons: ["Curva de aprendizaje m√°s pronunciada que herramientas m√°s simples."], url: "https://inkscape.org/" },
        { name: "Julius AI", type: "IA", category: "An√°lisis de Datos", cost_type: "Freemium", cost: "No especificado, probablemente freemium.", func: "Analista de datos IA que genera insights, gr√°ficos y c√≥digo (Python/R).", pros: ["Una 'superpotencia' para el an√°lisis de datos.", "Excelente para extraer informaci√≥n de datos no estructurados."], cons: ["No siempre verifica c√°lculos existentes en metadatos."], url: "https://julius.ai/" },
        { name: "Lateral", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "De Pago", cost: "Aproximadamente $11-12 por mes.", func: "Ayuda a encontrar investigaci√≥n y obtener insights con una 's√∫per b√∫squeda'.", pros: ["Cumple bien su funci√≥n de encontrar investigaci√≥n."], cons: ["Caro para ser una herramienta de nicho √∫nico."], url: "https://www.lateral.io/" },
        { name: "Lens.org", type: "No-IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Gratis", cost: "Completamente gratuito.", func: "Busca patentes y trabajos acad√©micos con filtros granulares.", pros: ["Herramienta subutilizada para comprender campos de investigaci√≥n.", "Revela qu√© empresas valoran en las patentes."], cons: [], url: "https://www.lens.org/" },
        { name: "Lit Maps", type: "IA", category: "Mapeo y Visualizaci√≥n", cost_type: "Freemium", cost: "No es gratuito, pero ten√≠a un nivel gratuito.", func: "Visualiza conexiones entre art√≠culos, identifica brechas.", pros: ["Considerado el mejor software de mapeo.", "Altamente personalizable."], cons: ["El gr√°fico no es intuitivo de interpretar.", "El modelo de precios ha cambiado."], url: "https://www.litmaps.com/" },
        { name: "Logseq", type: "No-IA", category: "Gesti√≥n del Conocimiento", cost_type: "Gratis", cost: "Gratuito y de c√≥digo abierto.", func: "Plataforma de conocimiento centrada en la privacidad para organizar pensamientos e ideas.", pros: ["Enfoque en 'outlining' y enlaces bidireccionales.", "Los datos se almacenan localmente."], cons: ["Comunidad de plugins m√°s peque√±a que Obsidian."], url: "https://logseq.com/" },
        { name: "Manis AI", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "De Pago", cost: "Caro, puede costar hasta $200 al mes.", func: "Act√∫a como un investigador, analizando brechas y generando revisiones completas.", pros: ["Considerada la herramienta de IA m√°s impresionante.", "Excelente para revisiones de literatura."], cons: ["Caro.", "Muchos errores en su acceso anticipado.", "Tasa de alucinaci√≥n del 16% en una prueba."], url: "https://manis.ai/" },
        { name: "Mapify", type: "IA", category: "Mapeo y Visualizaci√≥n", cost_type: "Freemium", cost: "No es gratuito, pero ofrece cr√©ditos gratuitos.", func: "Genera mapas mentales a partir de PDFs, texto, webs, YouTube, etc.", pros: ["Transforma grandes documentos en mapas mentales.", "Ahorra horas de mapeo manual."], cons: [], url: "https://mapify.ai/" },
        { name: "Mendeley", type: "No-IA", category: "Gesti√≥n de Referencias", cost_type: "Freemium", cost: "Gratis, con opciones de pago.", func: "Gestor de referencias.", pros: ["Alternativa a EndNote."], cons: ["Propiedad de Elsevier, lo que genera preocupaci√≥n por los datos."], url: "https://www.mendeley.com/" },
        { name: "Microsoft Co-pilot", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Gratis", cost: "Integrado en Edge, gratuito.", func: "Genera res√∫menes de p√°ginas web o PDFs.", pros: ["Excelente para obtener 'instant√°neas' r√°pidas de la investigaci√≥n."], cons: ["Ligado al navegador Edge."], url: "https://copilot.microsoft.com/" },
        { name: "Notion", type: "No-IA", category: "Gesti√≥n de Proyectos", cost_type: "Freemium", cost: "Plan personal gratuito. Planes de pago para equipos y funciones avanzadas.", func: "Espacio de trabajo todo en uno que combina notas, bases de datos y gesti√≥n de tareas.", pros: ["Extremadamente flexible y personalizable.", "Ideal para organizar proyectos de investigaci√≥n completos."], cons: ["Puede resultar abrumador al principio."], url: "https://www.notion.so/" },
        { name: "NotebookLM", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Gratis", cost: "Completamente gratuito.", func: "Permite cargar hasta 50 fuentes para chatear con ellas.", pros: ["Un 'cambio de juego' para la investigaci√≥n profunda.", "Excelente para el chat multi-documento."], cons: ["El tono del audio puede ser 'demasiado alegre'.", "Tiene dificultades con im√°genes en los documentos."], url: "https://notebooklm.google.com/" },
        { name: "Obsidian", type: "No-IA", category: "Gesti√≥n del Conocimiento", cost_type: "Freemium", cost: "Gratuito para uso personal. Licencias de pago para uso comercial y funciones adicionales (Sync, Publish).", func: "Potente base de conocimiento personal que funciona sobre archivos Markdown locales.", pros: ["Enfoque en la privacidad y la propiedad de los datos.", "Extremadamente personalizable con plugins."], cons: ["La sincronizaci√≥n entre dispositivos es de pago o requiere configuraci√≥n manual."], url: "https://obsidian.md/" },
        { name: "Otter.ai", type: "IA", category: "Transcripci√≥n", cost_type: "Freemium", cost: "Plan gratuito con minutos de transcripci√≥n mensuales. Planes Pro de pago.", func: "Transcribe autom√°ticamente conversaciones de audio (entrevistas, reuniones) a texto.", pros: ["Ahorra horas en transcripci√≥n manual.", "Identifica diferentes hablantes."], cons: ["La precisi√≥n no es del 100%, requiere revisi√≥n humana."], url: "https://otter.ai/" },
        { name: "Overleaf", type: "No-IA", category: "Escritura y Citaci√≥n", cost_type: "Freemium", cost: "Gratuito con opciones de pago.", func: "Editor LaTeX colaborativo en l√≠nea.", pros: ["Est√°ndar de facto para escritura en LaTeX.", "Excelente para colaboraci√≥n."], cons: ["Requiere conexi√≥n a internet."], url: "https://www.overleaf.com/" },
        { name: "Paper Pal (by Editage)", type: "IA", category: "Escritura y Citaci√≥n", cost_type: "Freemium", cost: "Ofrece funciones gratuitas.", func: "Soluci√≥n integral para redacci√≥n acad√©mica con plantillas, generaci√≥n de texto y citas.", pros: ["Esencial para acad√©micos que escriben regularmente.", "Ayuda a mantener los est√°ndares acad√©micos."], cons: [], url: "https://paperpal.com/" },
        { name: "PaperTalk.io", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "Gratis para cargar 10 art√≠culos.", func: "Resume art√≠culos de investigaci√≥n en audio.", pros: ["√ötil para comprender r√°pidamente art√≠culos largos.", "Ofrece ideas para aplicaciones en el mundo real."], cons: [], url: "https://www.papertalk.io/" },
        { name: "Perplexity", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "La versi√≥n gratuita es potente. B√∫squedas pro gratuitas con l√≠mites.", func: "Motor de b√∫squeda impulsado por IA para b√∫squedas acad√©micas profundas.", pros: ["Preferida sobre ChatGPT para la b√∫squeda de literatura.", "Control granular sobre las fuentes de b√∫squeda."], cons: ["Puede alucinar t√≠tulos/DOIs.", "No proporciona multimedia en los resultados."], url: "https.perplexity.ai/" },
        { name: "Plagiarism Detector.net", type: "No-IA", category: "Detecci√≥n de Plagio", cost_type: "Freemium", cost: "No especificado.", func: "Detector de plagio.", pros: ["Herramienta de comprobaci√≥n r√°pida."], cons: [], url: "https://plagiarismdetector.net/" },
        { name: "PubMed", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Base de datos de ciencias de la salud.", pros: ["Fuente principal para literatura biom√©dica."], cons: [], url: "https://pubmed.ncbi.nlm.nih.gov/" },
        { name: "Research Rabbit", type: "IA", category: "Mapeo y Visualizaci√≥n", cost_type: "Gratis", cost: "100% gratuito.", func: "Descubre art√≠culos similares, anteriores y posteriores.", pros: ["Excelente para 'acumular' literatura.", "Explora conexiones entre art√≠culos."], cons: [], url: "https://www.researchrabbit.ai/" },
        { name: "Sci-Hub", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Proporciona acceso gratuito a art√≠culos de pago.", pros: ["Acceso a muchos art√≠culos que no son de acceso abierto."], cons: ["Controversial e ilegal en algunos lugares.", "Ha pausado la carga de nuevos art√≠culos."], url: "https://www.sci-hub.se/" },
        { name: "SciSpace", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Freemium", cost: "Versi√≥n gratuita limitada. Pago por funciones completas.", func: "Investigaci√≥n profunda, res√∫menes, escritor con citas, chat con PDFs.", pros: ["Considerada l√≠der en IA para acad√©micos.", "Encuentra m√°s art√≠culos relevantes y m√°s r√°pido."], cons: ["Las mejores funciones son de pago."], url: "https://scispace.com/" },
        { name: "Semantic Scholar", type: "IA", category: "B√∫squeda y Revisi√≥n", cost_type: "Gratis", cost: "100% gratuito.", func: "Motor de b√∫squeda de literatura impulsado por IA.", pros: ["El 'OG' de la IA en la b√∫squeda acad√©mica.", "Motor detr√°s de muchas otras herramientas."], cons: [], url: "https://www.semanticscholar.org/" },
        { name: "Tableau", type: "No-IA", category: "Visualizaci√≥n de Datos", cost_type: "Freemium", cost: "Versi√≥n gratuita con limitaciones. Planes de pago para funciones avanzadas.", func: "Plataforma de visualizaci√≥n de datos para crear dashboards interactivos y an√°lisis visuales.", pros: ["Interfaz intuitiva para crear visualizaciones complejas.", "Amplia gama de opciones de personalizaci√≥n."], cons: ["Curva de aprendizaje pronunciada para usuarios no t√©cnicos.", "La versi√≥n gratuita tiene limitaciones en la cantidad de datos y funcionalidades."], url: "https://www.tableau.com/" },
        { name: "Thesify (Thesis AI)", type: "IA", category: "Escritura y Citaci√≥n", cost_type: "De Pago", cost: "No es gratuito. Ofrece vista previa gratuita.", func: "Proporciona retroalimentaci√≥n experta sobre ensayos, tesis, etc.", pros: ["Una de las mejores herramientas para recibir retroalimentaci√≥n.", "Integraci√≥n nativa con LaTeX/Overleaf."], cons: ["Requiere suscripci√≥n."], url: "https://www.thesify.com/" },
        { name: "Turnitin", type: "No-IA", category: "Detecci√≥n de Plagio", cost_type: "De Pago", cost: "Licencia institucional.", func: "Software de detecci√≥n de plagio y de IA.", pros: ["Est√°ndar de la industria.", "Base de datos masiva."], cons: ["'Caja negra' para los estudiantes.", "Fiabilidad del detector de IA cuestionada."], url: "https://www.turnitin.com/" },
        { name: "Unpaywall.com", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Extensi√≥n de navegador para encontrar versiones de acceso abierto.", pros: ["Encuentra versiones legales y gratuitas de art√≠culos."], cons: ["No elude muros de pago ilegalmente."], url: "https://unpaywall.org/" },
        { name: "Writefull", type: "IA", category: "Escritura y Citaci√≥n", cost_type: "Freemium", cost: "Requiere suscripci√≥n para funciones completas, pero es asequible.", func: "Corrige, parafrasea y mejora el texto acad√©mico.", pros: ["Dise√±ada espec√≠ficamente para acad√©micos.", "Muy potente para mejorar la eficiencia de la escritura."], cons: ["Requiere suscripci√≥n para uso intensivo."], url: "https://www.writefull.com/" },
        { name: "Yomu.ai", type: "IA", category: "Escritura y Citaci√≥n", cost_type: "Freemium", cost: "No especificado.", func: "Asistente de escritura de IA que genera textos y gestiona citas.", pros: ["√ötil para acad√©micos j√≥venes que prefieren herramientas todo en uno."], cons: [], url: "https://www.yomu.ai/" },
        { name: "ZeroGPT", type: "IA", category: "Detecci√≥n de Plagio", cost_type: "Freemium", cost: "No especificado.", func: "Herramienta de detecci√≥n de contenido generado por IA.", pros: ["Accesible para individuos."], cons: ["La detecci√≥n de IA es inconsistente y no siempre fiable."], url: "https://www.zerogpt.com/" },
        { name: "Zotero", type: "No-IA", category: "Gesti√≥n de Referencias", cost_type: "Gratis", cost: "Gratuito, con almacenamiento de pago opcional.", func: "Gestor de referencias gratuito y de c√≥digo abierto.", pros: ["Control total sobre los datos.", "Gratuito y flexible.", "Gran comunidad."], cons: ["La interfaz puede parecer menos pulida."], url: "https://www.zotero.org/" },
        { name: "Observatorio de Bibliotecas Sombra", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Recursos y an√°lisis de bibliotecas alternativas.", pros: ["√ötil para fuentes no convencionales.", "An√°lisis √∫nicos."], cons: ["Opera en zona gris legal.", "Disponibilidad variable."], url: "https://open-slum.org/" },
        { name: "Planet eBook", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Cl√°sicos gratuitos en PDF, √∫til para investigaci√≥n en literatura.", pros: ["Obras cl√°sicas en PDF.", "Ideal para estudios literarios."], cons: ["Limitado a dominio p√∫blico."], url: "https://www.planetebook.com/" },
        { name: "Free-eBooks.net", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Freemium", cost: "eBooks gratuitos y de pago.", func: "eBooks gratuitos y de pago, algunos √∫tiles para investigaci√≥n.", pros: ["Variedad de eBooks.", "Recursos gratuitos disponibles."], cons: ["Muchos son de ficci√≥n.", "Requiere registro."], url: "https://www.free-ebooks.net/" },
        { name: "ManyBooks", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Miles de eBooks gratuitos, incluyendo algunos textos acad√©micos.", pros: ["Amplia colecci√≥n gratuita.", "Incluye dominio p√∫blico."], cons: ["Mayor√≠a de ficci√≥n.", "Interfaz menos intuitiva."], url: "https://manybooks.net/" },
        { name: "LibriVox", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Audiolibros de dominio p√∫blico en formato audio.", pros: ["Audiolibros gratuitos.", "√ötil para multitarea o accesibilidad."], cons: ["Calidad de grabaci√≥n variable.", "Limitado a dominio p√∫blico."], url: "https://librivox.org/" },
        { name: "BookBub", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Ofertas y recomendaciones de eBooks, algunos √∫tiles para investigaci√≥n.", pros: ["eBooks gratuitos y con descuento.", "Recomendaciones personalizadas."], cons: ["Enfocado en ficci√≥n.", "Requiere registro."], url: "https://www.bookbub.com/" },
        { name: "Feedbooks", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Freemium", cost: "eBooks gratuitos y comerciales.", func: "eBooks gratuitos y comerciales, algunos √∫tiles para investigaci√≥n.", pros: ["Variedad disponible.", "Recursos gratuitos."], cons: ["Muchos son de ficci√≥n.", "eBooks comerciales de pago."], url: "https://www.feedbooks.com/" },
        { name: "Smashwords", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Freemium", cost: "Publicaci√≥n y distribuci√≥n de eBooks, algunos gratuitos.", func: "Publicaci√≥n y distribuci√≥n de eBooks, con opciones gratuitas y de pago.", pros: ["eBooks independientes.", "Algunos gratuitos."], cons: ["Calidad variable.", "Enfoque en autores independientes."], url: "https://www.smashwords.com/" },
        { name: "PDFBooksWorld", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "PDFs de dominio p√∫blico, √∫tiles para textos cl√°sicos.", pros: ["PDFs de dominio p√∫blico.", "√ötil para literatura."], cons: ["Limitado a dominio p√∫blico."], url: "https://www.pdfbooksworld.com/" },
        { name: "GetFreeBooks", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Libros electr√≥nicos gratuitos, algunos √∫tiles para investigaci√≥n.", pros: ["eBooks gratuitos.", "Variedad de g√©neros."], cons: ["Calidad variable."], url: "https://www.getfreebooks.com/" },
        { name: "eBookLobby", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "eBooks variados gratuitos, algunos √∫tiles para investigaci√≥n.", pros: ["eBooks gratuitos.", "Incluye categor√≠as educativas."], cons: ["Interfaz simple y dif√≠cil de navegar."], url: "https://www.ebooklobby.com/" },
        { name: "Obooko", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "eBooks gratuitos de autores independientes, algunos √∫tiles para investigaci√≥n.", pros: ["eBooks gratuitos.", "Enfoque en autores independientes."], cons: ["Calidad variable.", "Mayormente ficci√≥n."], url: "https://www.obooko.com/" },
        { name: "Ocean of PDF", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Descargas de PDFs populares, incluyendo algunos textos acad√©micos.", pros: ["Amplia gama de PDFs.", "√ötil para libros espec√≠ficos."], cons: ["Legalidad cuestionable.", "Errores o versiones incompletas."], url: "https://oceanofpdf.com/" },
        { name: "Booksfree", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Libros gratuitos en PDF, algunos √∫tiles para investigaci√≥n.", pros: ["PDFs gratuitos.", "Variedad de temas."], cons: ["Calidad variable.", "Interfaz b√°sica."], url: "https://booksfree.org/" },
        { name: "Elejandria", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Cl√°sicos en espa√±ol, √∫tiles para investigaci√≥n en literatura hispana.", pros: ["Obras cl√°sicas en espa√±ol.", "Ideal para estudios literarios."], cons: ["Limitado a dominio p√∫blico."], url: "https://www.elejandria.com/" },
        { name: "Espaebook", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "eBooks en espa√±ol, algunos √∫tiles para investigaci√≥n.", pros: ["eBooks en espa√±ol.", "Variedad de g√©neros."], cons: ["Calidad variable.", "Legalidad cuestionable."], url: "https://www.espabeok.com/" },
        { name: "Wonderful Books", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Colecci√≥n de libros digitales, algunos √∫tiles para investigaci√≥n.", pros: ["Libros gratuitos.", "Incluye obras cl√°sicas."], cons: ["Interfaz simple.", "Selecci√≥n limitada."], url: "https://www.wonderfulbooks.com/" },
        { name: "Lectuland", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Libros gratuitos en espa√±ol, algunos √∫tiles para investigaci√≥n.", pros: ["eBooks en espa√±ol.", "Gratuito."], cons: ["Calidad variable.", "Enfocado en ficci√≥n."], url: "https://lectuland.com/" },
        { name: "LeerLibrosOnline", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Lectura online y descarga de libros, algunos √∫tiles para investigaci√≥n.", pros: ["Libros en l√≠nea.", "Opci√≥n de descarga."], cons: ["Legalidad cuestionable.", "Interfaz con anuncios."], url: "https://www.leerlibrosonline.org/" },
        { name: "ePubLibre", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "eBooks en formato ePub, algunos √∫tiles para investigaci√≥n.", pros: ["eBooks en ePub.", "Comunidad activa."], cons: ["Legalidad cuestionable.", "Requiere registro."], url: "https://www.epublibre.org/" },
        { name: "Standard Ebooks", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "eBooks bien formateados de dominio p√∫blico, √∫tiles para literatura.", pros: ["Alta calidad de formateo.", "Acceso gratuito."], cons: ["Limitado a dominio p√∫blico."], url: "https://standardebooks.org/" },
        { name: "PDF Drive", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Motor de b√∫squeda de PDFs, √∫til para encontrar textos acad√©micos.", pros: ["Amplia base de PDFs.", "F√°cil de usar."], cons: ["Legalidad variable.", "Publicidad presente."], url: "https://www.pdfdrive.com/" },
        { name: "PDF Room", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Descarga de PDFs variados, algunos √∫tiles para investigaci√≥n.", pros: ["Variedad de PDFs.", "Acceso gratuito."], cons: ["Calidad variable.", "Legalidad cuestionable."], url: "https://pdfroom.com/" },
        { name: "PDF Coffee", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Colecci√≥n de PDFs gratuitos, algunos √∫tiles para investigaci√≥n.", pros: ["PDFs gratuitos.", "Variedad disponible."], cons: ["Legalidad cuestionable.", "Interfaz b√°sica."], url: "https://www.pdfcoffee.com/" },
        { name: "Dokumen Pub", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Documentos y libros en PDF, √∫tiles para investigaci√≥n.", pros: ["Amplia colecci√≥n de PDFs.", "Acceso gratuito."], cons: ["Legalidad variable.", "Interfaz simple."], url: "https://dokumen.pub/" },
        { name: "Dirzon", type: "No-IA", category: "Acceso a Art√≠culos", cost_type: "Gratis", cost: "Gratuito.", func: "Directorio de recursos digitales, √∫til para encontrar textos.", pros: ["Variedad de recursos.", "Acceso gratuito."], cons: ["Calidad variable.", "Enlaces externos."], url: "https://dirzon.com/" },
        { name: "BookBoon", type: "No-IA", category: "Recursos Educativos", cost_type: "Gratis", cost: "Gratuito.", func: "Libros educativos y empresariales, √∫tiles para investigaci√≥n.", pros: ["Libros de texto gratuitos.", "Enfoque educativo y empresarial."], cons: ["Algunos requieren registro."], url: "https://bookboon.com/" },
        { name: "Bookyards", type: "No-IA", category: "Recursos Educativos", cost_type: "Gratis", cost: "Gratuito.", func: "eBooks y recursos educativos, √∫tiles para educaci√≥n.", pros: ["Recursos educativos gratuitos.", "Incluye libros y art√≠culos."], cons: ["Interfaz menos moderna."], url: "http://www.bookyards.com/" },
        { name: "OpenCulture", type: "No-IA", category: "Recursos Educativos", cost_type: "Gratis", cost: "Gratuito.", func: "Recursos culturales y educativos, √∫tiles para aprendizaje.", pros: ["Cursos y libros gratuitos.", "Enfoque cultural."], cons: ["Selecci√≥n limitada en algunos temas."], url: "https://www.openculture.com/free_ebooks" },
        { name: "EngbooksPDF", type: "No-IA", category: "Recursos Educativos", cost_type: "Gratis", cost: "Gratuito.", func: "Libros en ingl√©s en PDF, √∫tiles para educaci√≥n y tecnolog√≠a.", pros: ["Libros t√©cnicos y educativos.", "Ideal para aprendizaje autodidacta."], cons: ["Calidad variable."], url: "https://www.engbookspdf.com/" },
        { name: "FreeTechBooks", type: "No-IA", category: "Recursos Educativos", cost_type: "Gratis", cost: "Gratuito.", func: "Libros t√©cnicos gratuitos, √∫tiles para tecnolog√≠a.", pros: ["Enfocado en tecnolog√≠a.", "Acceso gratuito."], cons: ["Selecci√≥n espec√≠fica."], url: "https://www.freetechbooks.com/" },
        { name: "FreeComputerBooks", type: "No-IA", category: "Recursos Educativos", cost_type: "Gratis", cost: "Gratuito.", func: "Libros de inform√°tica gratuitos, √∫tiles para tecnolog√≠a.", pros: ["Amplia colecci√≥n t√©cnica.", "Gratuito."], cons: ["Enfoque muy espec√≠fico."], url: "https://freecomputerbooks.com/" },
        { name: "O'Reilly", type: "No-IA", category: "Recursos Educativos", cost_type: "De Pago", cost: "Suscripci√≥n requerida.", func: "Libros t√©cnicos y de programaci√≥n, √∫tiles para tecnolog√≠a.", pros: ["Alta calidad.", "Amplio cat√°logo t√©cnico."], cons: ["Requiere suscripci√≥n.", "Costo elevado."], url: "https://www.oreilly.com/" }
    ];
    
    let chartInstance = null;
    let categories = [];
    const filterContainer = document.getElementById('filter-container');
    const toolsGrid = document.getElementById('tools-grid');
    const modal = document.getElementById('toolModal');
    const closeModalBtn = document.getElementById('closeModal');
    const searchInput = document.getElementById('search-input');
    const sortSelect = document.getElementById('sort-select');
    const noResults = document.getElementById('no-results');
    
    let currentCategory = 'Todas';
    
    function setupEventListeners() {
        searchInput.addEventListener('input', () => renderApp());
        sortSelect.addEventListener('change', () => renderApp());
        closeModalBtn.addEventListener('click', hideModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) hideModal();
        });
    }

    function renderFilters() {
        filterContainer.innerHTML = '';
        categories.forEach(category => {
            const button = document.createElement('button');
            button.className = 'filter-btn px-3 py-1.5 text-sm font-medium text-slate-300 bg-slate-900 border border-slate-700 rounded-full hover:bg-slate-800 hover:border-slate-600';
            if (category === currentCategory) {
                button.classList.add('active-filter');
            }
            button.textContent = category;
            button.dataset.category = category;
            button.addEventListener('click', () => {
                currentCategory = category;
                renderApp();
            });
            filterContainer.appendChild(button);
        });
    }

    function getCostBadge(cost_type) {
        switch (cost_type) {
            case 'Gratis': return 'bg-green-500/20 text-green-300';
            case 'Freemium': return 'bg-yellow-500/20 text-yellow-300';
            case 'De Pago': return 'bg-red-500/20 text-red-300';
            default: return 'bg-slate-500/20 text-slate-300';
        }
    }

    function getTypeBadge(type) {
        return type === 'IA' ? 'bg-sky-500/20 text-sky-300' : 'bg-indigo-500/20 text-indigo-300';
    }
    
    function processTools() {
        let processedTools = [...toolsData];
        const searchTerm = searchInput.value.toLowerCase();

        if (currentCategory !== 'Todas') {
            processedTools = processedTools.filter(tool => tool.category === currentCategory);
        }

        if (searchTerm) {
            processedTools = processedTools.filter(tool => tool.name.toLowerCase().includes(searchTerm));
        }

        const sortValue = sortSelect.value;
        processedTools.sort((a, b) => {
            if (sortValue === 'name_asc') return a.name.localeCompare(b.name);
            if (sortValue === 'name_desc') return b.name.localeCompare(a.name);
            return 0;
        });

        return processedTools;
    }

    function renderTools(tools) {
        toolsGrid.innerHTML = '';
        if (tools.length === 0) {
            noResults.classList.remove('hidden');
        } else {
            noResults.classList.add('hidden');
        }

        tools.forEach(tool => {
            const card = document.createElement('div');
            card.className = 'tool-card bg-slate-900 p-5 rounded-lg border border-slate-800 cursor-pointer flex flex-col justify-between';
            card.innerHTML = `
                <div>
                    <div class="flex items-center justify-between mb-2">
                         <h3 class="font-bold text-lg text-slate-100">${tool.name}</h3>
                         <span class="text-xl">${tool.type === 'IA' ? 'ü§ñ' : 'üìÑ'}</span>
                    </div>
                    <p class="text-slate-400 text-sm mb-4 line-clamp-3">${tool.func}</p>
                </div>
                <div class="flex flex-wrap items-center gap-2 mt-auto text-xs font-medium">
                    <span class="px-2 py-1 rounded-full ${getTypeBadge(tool.type)}">${tool.type}</span>
                    <span class="px-2 py-1 rounded-full ${getCostBadge(tool.cost_type)}">${tool.cost_type}</span>
                    <span class="px-2 py-1 rounded-full bg-slate-700 text-slate-300">${tool.category}</span>
                </div>
            `;
            card.addEventListener('click', () => showModal(tool));
            toolsGrid.appendChild(card);
        });
    }

    function showModal(tool) {
        document.getElementById('modal-name').textContent = tool.name;
        document.getElementById('modal-function').textContent = tool.func;
        document.getElementById('modal-cost').textContent = tool.cost;
        document.getElementById('modal-link').href = tool.url;
        
        const typeBadge = document.getElementById('modal-type-badge');
        typeBadge.textContent = tool.type;
        typeBadge.className = `text-xs font-medium mr-2 px-2.5 py-1 rounded-full ${getTypeBadge(tool.type)}`;

        const costBadge = document.getElementById('modal-cost-badge');
        costBadge.textContent = tool.cost_type;
        costBadge.className = `text-xs font-medium mr-2 px-2.5 py-1 rounded-full ${getCostBadge(tool.cost_type)}`;
        
        const prosList = document.getElementById('modal-pros');
        prosList.innerHTML = tool.pros.length > 0 ? tool.pros.map(pro => `<li>${pro}</li>`).join('') : '<li>No se especificaron ventajas.</li>';
        
        const consList = document.getElementById('modal-cons');
        consList.innerHTML = tool.cons.length > 0 ? tool.cons.map(con => `<li>${con}</li>`).join('') : '<li>No se especificaron desventajas.</li>';
        
        modal.classList.remove('hidden');
    }

    function hideModal() {
        modal.classList.add('hidden');
    }

    function renderChart() {
        if(chartInstance) {
            chartInstance.destroy();
        }
        const ctx = document.getElementById('toolsChart').getContext('2d');
        const chartCategories = [...new Set(toolsData.map(t => t.category))];
        const lightGray = 'rgba(203, 213, 225, 0.8)';
        const darkGray = 'rgba(51, 65, 85, 0.5)';
        
        const data = {
            labels: chartCategories,
            datasets: [
                { label: 'IA - Gratis', data: chartCategories.map(cat => toolsData.filter(t => t.category === cat && t.type === 'IA' && t.cost_type === 'Gratis').length), backgroundColor: 'rgba(56, 189, 248, 0.7)' },
                { label: 'IA - Freemium', data: chartCategories.map(cat => toolsData.filter(t => t.category === cat && t.type === 'IA' && t.cost_type === 'Freemium').length), backgroundColor: 'rgba(250, 204, 21, 0.7)' },
                { label: 'IA - De Pago', data: chartCategories.map(cat => toolsData.filter(t => t.category === cat && t.type === 'IA' && t.cost_type === 'De Pago').length), backgroundColor: 'rgba(248, 113, 113, 0.7)' },
                { label: 'No-IA - Gratis', data: chartCategories.map(cat => toolsData.filter(t => t.category === cat && t.type === 'No-IA' && t.cost_type === 'Gratis').length), backgroundColor: 'rgba(74, 222, 128, 0.7)' },
                { label: 'No-IA - Freemium', data: chartCategories.map(cat => toolsData.filter(t => t.category === cat && t.type === 'No-IA' && t.cost_type === 'Freemium').length), backgroundColor: 'rgba(251, 146, 60, 0.7)' },
                { label: 'No-IA - De Pago', data: chartCategories.map(cat => toolsData.filter(t => t.category === cat && t.type === 'No-IA' && t.cost_type === 'De Pago').length), backgroundColor: 'rgba(168, 85, 247, 0.7)' }
            ]
        };

        chartInstance = new Chart(ctx, {
            type: 'bar', data: data,
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: {
                    title: { display: false },
                    tooltip: { mode: 'index', intersect: false },
                    legend: { position: 'top', labels: { color: lightGray } },
                },
                scales: {
                    x: {
                        stacked: true, ticks: { color: lightGray, callback: function(value) { const label = this.getLabelForValue(value); return label.length > 15 ? label.substring(0, 15) + '...' : label; } },
                        grid: { color: darkGray }
                    },
                    y: {
                        stacked: true, beginAtZero: true,
                        title: { display: true, text: 'N√∫mero de Herramientas', color: lightGray },
                        ticks: { color: lightGray, },
                        grid: { color: darkGray }
                    }
                }
            }
        });
    }
    
    function renderApp() {
        categories = ['Todas', ...new Set(toolsData.map(tool => tool.category).sort())];
        renderFilters();
        const processed = processTools();
        renderTools(processed);
    }

    setupEventListeners();
    renderApp();
    renderChart();
});
</script>

</body>
</html>
