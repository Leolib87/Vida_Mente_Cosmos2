<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis de Camino de Servidumbre | O.C.V.M.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --primary: #818cf8;
            --primary-dark: #6366f1;
            --secondary: #22d3ee;
            --primary-text: #e5e7eb;
            --primary-glow: #818cf8;
            --secondary-glow: #22d3ee;
            --font-main: 'Inter', sans-serif;
            --nav-height: 70px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html { scroll-behavior: smooth; }

        body {
            background-color: #000000;
            color: var(--primary-text);
            font-family: var(--font-main);
            line-height: 1.8;
            overflow-x: hidden;
        }
        
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            cursor: crosshair;
        }

        .glassmorphism {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.menu-open {
            overflow: hidden;
        }
        
        nav {
            position: fixed; top: 0; width: 100%; height: var(--nav-height);
            z-index: 1000;
            display: flex; justify-content: center; align-items: center;
            padding: 0 5%;
            pointer-events: auto;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        
        .nav-logo a {
            font-size: 1.3em;
            font-weight: 700;
            color: #fff;
            text-decoration: none;
            text-shadow: 0 0 8px var(--primary-glow);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .nav-container { display: flex; justify-content: center; align-items: center; list-style: none; height: 100%; gap: 0.5rem;}
        nav .nav-container > li { position: relative; height: 100%; display: flex; align-items: center; }
        nav .nav-container > li > a {
            color: var(--primary-text); text-decoration: none; font-size: clamp(0.9em, 1.2vw, 1.05em); font-weight: 500;
            transition: color 0.3s ease, text-shadow 0.3s ease; padding: 0 1rem; display: flex; align-items: center; gap: 8px;
        }
        nav .nav-container > li > a:hover, nav .nav-container > li:hover > a { color: #FFFFFF; text-shadow: 0 0 12px var(--primary-glow); }
        
        .nav-icon { width: 20px; height: 20px; stroke-width: 1.5; }
        
        .hero {
            min-height: 80vh;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; position: relative;
            padding: 1rem;
            padding-top: var(--nav-height);
        }
        .hero-content { position: relative; z-index: 2; animation: fadeIn 2s ease-in; }
        .hero h1 {
            font-size: clamp(2.5rem, 8vw, 5.5rem); font-weight: 700; color: #fff;
            text-shadow: 0 0 10px var(--primary-glow), 0 0 20px var(--primary-glow), 0 0 40px rgba(129, 140, 248, 0.7);
            animation: pulse-glow 3s infinite alternate;
        }
        .hero p.subtitle { font-size: clamp(1.2rem, 3vw, 1.8rem); color: var(--secondary-glow); text-shadow: 0 0 8px var(--secondary-glow); margin-top: 0.5rem; }
        .hero p.description { font-size: clamp(1rem, 2.5vw, 1.2rem); max-width: 800px; margin: 1.5rem auto 0; text-shadow: 0 0 5px #000; }
        
        @keyframes pulse-glow {
            from { text-shadow: 0 0 10px var(--primary-glow), 0 0 20px var(--primary-glow); }
            to { text-shadow: 0 0 20px var(--primary-glow), 0 0 40px var(--primary-glow); }
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .main-container { 
            width: 100%;
            max-width: 1200px;
            margin: 0 auto; 
            padding: 1rem clamp(1rem, 5vw, 4rem) 1rem;
            pointer-events: none;
        }
        
        main, .footer, .section, .hero-content {
            pointer-events: auto;
        }

        main p, .footer p, main li, main blockquote {
            user-select: text;
            cursor: default;
        }

        .layout-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; margin-top: 2rem; }
        
        .section {
            padding: clamp(1.5rem, 5vw, 2.5rem);
            border-radius: 12px; margin-bottom: 2rem; position: relative;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }
        .section:hover { transform: translateY(-5px); box-shadow: 0 0 40px rgba(129, 140, 248, 0.2); }
        
        .section h2, .section .tab-nav, .section .tab-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .section.is-visible h2, .section.is-visible .tab-nav, .section.is-visible .tab-content-container {
            opacity: 1;
            transform: translateY(0);
        }
        
        h2 {
            font-size: clamp(1.5rem, 5vw, 2.2rem); color: var(--primary-text); text-shadow: 0 0 8px var(--secondary-glow);
            border-bottom: 1px solid var(--primary-glow); padding-bottom: 1rem; margin-bottom: 1.5rem;
        }
        h3 { font-size: clamp(1.4rem, 4vw, 1.9rem); color: var(--primary-glow); margin: 2.5rem 0 1.5rem 0; }
        h4 { font-size: clamp(1.2rem, 3vw, 1.5rem); color: var(--secondary-glow); margin-bottom: 1rem; margin-top: 2rem; }
        
        /* --- ESTILOS PARA TABS Y CONTENIDO --- */
        .color-personaje { color: #F59E0B; font-weight: 600; } /* Mustard Yellow */
        .color-concepto { color: var(--primary-glow); font-style: italic; font-weight: 500;}
        .color-idea { color: #a7f3d0; } /* Mint green */

        .tab-nav {
            display: flex;
            flex-wrap: wrap;
            border-bottom: 1px solid rgba(129, 140, 248, 0.3);
            margin-bottom: 2rem;
        }
        .tab-button {
            padding: 1rem 1.5rem;
            cursor: pointer;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--primary-text);
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            font-weight: 500;
            transition: all 0.3s ease;
            margin-bottom: -1px;
        }
        .tab-button:hover {
            color: #fff;
            background-color: rgba(129, 140, 248, 0.1);
        }
        .tab-button.active {
            color: var(--primary-glow);
            border-bottom-color: var(--primary-glow);
            text-shadow: 0 0 8px var(--primary-glow);
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeInContent 0.6s ease forwards;
        }
        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .tab-content .card {
            background-color: rgba(0,0,0,0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }
        .tab-content .quote-block {
            border-left: 3px solid var(--primary-glow);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            color: #c7d2fe;
        }

        .tab-content ul {
            list-style-position: inside;
            padding-left: 0.5rem;
        }
        .tab-content li {
            margin-bottom: 0.75rem;
        }
        
        .footer { text-align: center; padding: 2.5rem 1rem; color: var(--primary-glow); border-top: 1px solid var(--primary-text); margin-top: 2rem; }
        
        @media (min-width: 1025px) {
            .menu-toggle { display: none; }
            .nav-container { display: flex; }
        }

        @media (max-width: 1024px) {
            .nav-content { justify-content: space-between; }
            .nav-container {
                position: fixed;
                top: var(--nav-height);
                left: 0;
                width: 100%;
                height: calc(100vh - var(--nav-height));
                background: rgba(17, 24, 39, 0.95);
                backdrop-filter: blur(15px);
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
                transform: translateY(-110%);
                overflow-y: auto;
                padding: 2rem;
            }
            body.menu-open .nav-container {
                transform: translateY(0);
            }

            nav .nav-container > li { width: 100%; height: auto; text-align: center; }
            nav .nav-container > li > a { padding: 1rem; width: 100%; font-size: 1.5em;}
            
            .menu-toggle {
                display: block; position: relative; z-index: 1001;
                width: 30px; height: 22px;
                background: none; border: none; cursor: pointer;
            }
            .icon-bar {
                display: block; width: 100%; height: 3px; background-color: var(--primary-text); 
                margin: 6px 0; transition: all 0.3s ease-in-out;
                border-radius: 2px;
            }

            body.menu-open .menu-toggle .icon-bar:nth-child(1) { transform: rotate(45deg) translate(7px, 7px); }
            body.menu-open .menu-toggle .icon-bar:nth-child(2) { opacity: 0; }
            body.menu-open .menu-toggle .icon-bar:nth-child(3) { transform: rotate(-45deg) translate(7px, -7px); }
        }
    </style>
</head>
<body>
    <canvas id="bg-canvas" aria-hidden="true"></canvas>
    <nav class="glassmorphism">
        <div class="nav-content">
            <div class="nav-logo">
                <a href="index.html">
                    <img src="https://placehold.co/40x40/818cf8/000000?text=O" alt="Logo O.C.V.M." class="h-8 w-8 md:h-10 md:w-10 rounded-full">
                    <span>O.C.V.M.</span>
                </a>
            </div>
            <ul class="nav-container" id="nav-menu">
                <li><a href="index.html">
                    <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>
                    Inicio</a></li>
                <li><a href="#contacto">
                    <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
                    Contacto</a></li>
            </ul>
            <button class="menu-toggle" id="menu-toggle-btn" aria-label="Abrir o cerrar menú">
                <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
            </button>
        </div>
    </nav>

    <div class="main-container" id="inicio">
        <div class="hero">
            <div class="hero-content">
                <h1>Camino de Servidumbre</h1>
                <p class="subtitle">Un análisis de Carlos Peña y Alejandro Vigo</p>
                <p class="description">
                    A 80 años de su publicación, una reflexión sobre la vigencia, el contexto y las ideas fundamentales de la obra magna de Friedrich Hayek, que alertó sobre los peligros de la planificación centralizada para la libertad.
                </p>
            </div>
        </div>

        <div class="layout-grid">
            <main class="content">
                
                <section id="camino-servidumbre-contenido" class="glassmorphism" data-animate>
                    <h2>Análisis del Libro</h2>
                    
                    <div class="tab-nav">
                        <button class="tab-button active" onclick="changeTab(event, 'introduccion')">Introducción y Contexto</button>
                        <button class="tab-button" onclick="changeTab(event, 'tesis')">La Tesis Central</button>
                        <button class="tab-button" onclick="changeTab(event, 'debate')">El Debate Filosófico</button>
                        <button class="tab-button" onclick="changeTab(event, 'relevancia')">Relevancia y Críticas</button>
                    </div>

                    <div class="tab-content-container">
                        <div id="introduccion" class="tab-content active">
                            <h3>Un Libro para Tiempos de Crisis</h3>
                            <p class="mb-4">Presentado por <span class="color-personaje">Álvaro Vergara</span>. Hace casi 80 años, en marzo de 1944, en plena Segunda Guerra Mundial, se publica en Inglaterra "Camino de Servidumbre". La primera edición se agota en semanas. Su nombre viene de una frase de <span class="color-personaje">Alexis de Tocqueville</span>: "Mientras la democracia aspira a la igualdad en libertad, el socialismo aspira a la igualdad en la coerción y la servidumbre".</p>
                            
                            <h4>Primer Encuentro con la Obra</h4>
                            <p class="mb-4"><span class="color-personaje">Carlos Peña:</span> Leí el libro a propósito de otro: "La gran transformación" de <span class="color-personaje">Karl Polanyi</span>, publicado el mismo año, 1944. Ambos libros reaccionan a la misma pregunta: <span class="color-idea">¿Qué pudo ocurrir en la cultura occidental para que algo así como el fascismo apareciera?</span></p>
                            <div class="grid md:grid-cols-2 gap-6 mb-8">
                                <div class="card">
                                    <h4 style="color: var(--primary-glow);"><span class="color-personaje">Polanyi</span>: La Falacia Economicista</h4>
                                    <p>El origen del fascismo está en el "molino satánico": la expansión sin límites del capitalismo que mercantiliza todo, disuelve los vínculos sociales y deja a las masas presas de liderazgos carismáticos.</p>
                                </div>
                                <div class="card">
                                    <h4 style="color: var(--secondary-glow);"><span class="color-personaje">Hayek</span>: La Falacia Constructivista</h4>
                                    <p>El origen es la idea de que se puede planificar deliberadamente el orden social. <span class="color-personaje">Hayek</span> reacciona contra el socialismo de su tiempo: el <span class="color-concepto">socialismo fabiano</span> de <span class="color-personaje">George Bernard Shaw</span>, el socialismo de mercado de <span class="color-personaje">Oskar Lange</span>, y la planificación de <span class="color-personaje">Karl Mannheim</span>.</p>
                                </div>
                            </div>

                            <p class="mb-4"><span class="color-personaje">Alejandro Vigo:</span> Mi encuentro fue más ingenuo, a comienzos de mis estudios en la Universidad de Buenos Aires (1978-79). Venía de la tragedia hiperinflacionaria y de una familia liberal-católica. Un compañero me regaló el libro y me produjo un impacto profundo por dos cosas:</p>
                            <ul class="list-disc ml-4">
                                <li><span class="color-idea">La raíz común del totalitarismo:</span> Por primera vez entendí que podía haber una raíz común entre la derecha fascista y ciertas formas del fascismo de izquierda.</li>
                                <li><span class="color-idea">El rol de las ideas:</span> La dedicatoria y el tono del libro me enseñaron que estas cosas no pueden construirse con la retórica de buenos y malos, sino entendiendo las ideas de fondo.</li>
                            </ul>
                        </div>

                        <div id="tesis" class="tab-content">
                            <h3>¿Un Panfleto? Las Tesis Subyacentes</h3>
                            <p class="mb-4"><span class="color-personaje">Carlos Peña:</span> Depende de lo que se entienda por panfleto. Si es un escrito de circunstancia, movido por un afán polémico, con talento, entonces es un gran panfleto, a la altura del Manifiesto Comunista. Pero es un panfleto erigido sobre ideas de gran profundidad. Esta obra vale no tanto por lo que dice, sino por lo que oculta, por aquello que le subyace.</p>
                            <blockquote class="quote-block">
                                El subsuelo de este texto descansa en un conjunto de tesis que son, en mi opinión, las que siguen: una tesis económica, una tesis epistémica, una tesis moral y una tesis política.
                            </blockquote>
                            <div class="card space-y-4">
                                <p><strong class="color-concepto">1. Tesis Económica (Economía y Conocimiento, 1936):</strong> El modelo de equilibrio general neoclásico supone información completa. Pero empíricamente, nunca se alcanza el equilibrio. La razón es que los agentes <span class="color-idea">no tienen información completa</span>. La pretensión de planificar es absurda porque supondría que un planificador puede reunir una información que ninguna mente humana puede.</p>
                                <p><strong class="color-concepto">2. Tesis Epistémica:</strong> El conocimiento se compone de conceptos apriorísticos (legados por la costumbre, el lenguaje) e información fragmentaria y personal. Nuestro conocimiento es evolutivo. El <span class="color-idea">sistema de precios</span> es un sistema de transmisión de esta información dispersa que, sumado a las reglas (legado evolutivo), permite la coordinación.</p>
                                <p><strong class="color-concepto">3. Tesis Moral:</strong> No existe una única escala de valores a la luz de la cual un planificador pueda tomar decisiones. Cada ser humano tiene su propia escala de preferencias, inconmensurable con la de los demás. Pretender que hay una sola escala de valores para las decisiones públicas es absurdo.</p>
                                <p><strong class="color-concepto">4. Tesis Política:</strong> Una cosa es el liberalismo (ser dócil a nuestra condición epistémica) y otra la democracia. Una dictadura puede ser liberal. La democracia responde a <span class="color-idea">quién gobierna</span> (la mayoría), mientras que el liberalismo responde a <span class="color-idea">cuáles son los límites del poder</span>. Esta es la parte más sombría de <span class="color-personaje">Hayek</span>.</p>
                            </div>
                        </div>
                        
                        <div id="debate" class="tab-content">
                            <h3>El Debate Filosófico: Conocimiento, Valor y Racionalidad</h3>
                            <p class="mb-4"><span class="color-personaje">Alejandro Vigo:</span> La parte epistemológica es clave. El libro tiene un aire de familia con "La sociedad abierta y sus enemigos" de <span class="color-personaje">Popper</span>. Ambos se distancian del positivismo lógico del Círculo de Viena. <span class="color-personaje">Hayek</span> es un post-positivista. Siguiendo a <span class="color-personaje">Mises</span>, incorpora un componente apriorístico. <span class="color-personaje">Mises</span>, en "Acción Humana", tematiza la <span class="color-concepto">praxeología</span>, donde hay verdades apriorísticas sobre la acción, como reglas constitutivas.</p>
                            <blockquote class="quote-block">
                                No es solamente que la información es incompleta. Lo que hay es un anclaje situacional de la toma de decisiones que no puede ser nunca transferida sin pérdida esencial a la tercera persona. La perspectiva de los agentes, anclada en la primera persona, hace posible un marco de interacciones que no es reconstruible sin resto desde la totalidad estadística.
                            </blockquote>
                            <p class="mb-4"><span class="color-personaje">Carlos Peña:</span> Esto conecta con la idea de <span class="color-personaje">Wittgenstein</span> de que el lenguaje es una forma de vida que descansa sobre presupuestos no lingüísticos que compartimos. El lenguaje está sostenido en el silencio. También con <span class="color-personaje">Heidegger</span> en "Ser y Tiempo", que describe nuestro comportamiento cotidiano como vivir sobre la base de un conjunto de supuestos que damos por establecidos.</p>
                            <h4>El Problema de los "Valores"</h4>
                            <p class="mb-4"><span class="color-personaje">Alejandro Vigo:</span> <span class="color-personaje">Hayek</span> está entrampado en la filosofía de los valores del neokantismo. Hoy estamos convencidos de que las cuestiones éticas son de "valores", pero ni <span class="color-personaje">Aristóteles</span>, ni <span class="color-personaje">Tomás de Aquino</span>, ni <span class="color-personaje">Kant</span> lo hubieran planteado así. La noción de "valor subjetivo" es confusa: una cosa es decir que el valor no es una propiedad descriptiva de las cosas, y otra que es arbitrario. Las preferencias son comunicables y compartidas, pero no se explican por propiedades de los objetos.</p>
                            <p class="mb-4"><span class="color-personaje">Carlos Peña:</span> <span class="color-personaje">Hayek</span> no aceptaría que hay una forma de racionalidad práctica que podamos compartir y que nos diga cómo debemos vivir. No tenemos un criterio para discernir qué vida debemos vivir. El mercado, a través del sistema de precios, permite la convergencia de preferencias, pero desechando cualquier modo de discernir un modelo de buena vida global. En este sentido, no es aristotélico.</p>
                        </div>

                        <div id="relevancia" class="tab-content">
                            <h3>Relevancia, Críticas y el "Camino Abandonado"</h3>
                            <h4>¿Libertad Económica para la Libertad Política?</h4>
                            <p class="mb-4"><span class="color-personaje">Hayek</span> dice tajantemente: "Hemos abandonado progresivamente aquella libertad en materia económica sin la cual jamás existió en el pasado libertad personal y política".</p>
                            <p class="mb-4"><span class="color-personaje">Alejandro Vigo:</span> No estoy convencido de que se le pueda atribuir una tesis fuerte de inconmensurabilidad de valores. Un orden de libertad no se puede defender de una manera no-cognitivista radical. Tiene que haber algún criterio para distinguir qué es mejor o peor, al menos a nivel de metateoría.</p>
                            <p class="mb-4"><span class="color-personaje">Carlos Peña:</span> Yo creo que <span class="color-personaje">Hayek</span> era no-cognitivista en este sentido. Un economista diría: "es un caso de tu sangre o la mía, cañones o mantequilla". Creo que <span class="color-personaje">Hayek</span> creía firmemente en eso.</p>

                            <h4>El "Camino Abandonado" y el Estado de Bienestar</h4>
                            <p class="mb-4">Una pregunta del público: El libro habla del "camino abandonado". Después de 80 años, parece que estamos lejos de retomarlo. ¿Qué reflexión sacan de eso?</p>
                            <p class="mb-4"><span class="color-personaje">Alejandro Vigo:</span> El camino se abandona, según <span class="color-personaje">Hayek</span>, cuando surge la idea de que la racionalidad implica planificar, como propone <span class="color-personaje">Keynes</span> en "El fin del laissez-faire" (1926). <span class="color-personaje">Hayek</span> quiere recuperar ese camino, pero sin el laissez-faire del siglo XIX. Él pertenece al movimiento del <span class="color-concepto">ordoliberalismo</span>, que busca introducir correcciones para impedir los efectos no deseados de una libertad sin ley. Su terror es que una intervención reclame otra, hasta llegar a una sociedad totalmente subsidiada.</p>
                            <p class="mb-4"><span class="color-personaje">Carlos Peña:</span> Tendría cuidado de leer el libro como una predicción. <span class="color-personaje">Hayek</span> se rebelaba contra una mentalidad, no predecía el futuro. Tampoco creo que la izquierda actual, salvo excesos minoritarios, quiera planificar todos los intersticios de la vida social. <span class="color-personaje">Hayek</span> no era un opositor franco a la socialdemocracia (un orden capitalista con reglas y políticas sociales focalizadas). Tomarlo como un arma arrojadiza en el debate actual me parece un error. Hay que leerlo con cuidado, sin dejarse llevar por la retórica inflamada, propia del contexto en que escribía: con el nazismo en la puerta.</p>
                        </div>
                    </div>
                </section>

            </main>
        </div>
        <footer class="footer" id="contacto">
            <h2>Contacto</h2>
            <p>Este espacio es una cartografía personal y una invitación al diálogo.</p>
            <p style="margin-top:1.5rem; font-size: 0.9em;">La vida es terriblemente bella cuando los jugadores juegan. | 2025</p>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof THREE !== 'undefined') {
                initThreeJS();
            } else {
                console.error("Three.js not loaded");
            }
            setupNavigation();
            setupScrollAnimations();
        });

        let scene, camera, renderer, points, lines;
        function initThreeJS() {
            try {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
                camera.position.z = 50;
                renderer = new THREE.WebGLRenderer({ canvas: document.getElementById("bg-canvas"), alpha: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                const pointCount = 200;
                const positions = new Float32Array(pointCount * 3);
                const pointGeo = new THREE.BufferGeometry();
                for (let i = 0; i < pointCount; i++) {
                    positions[i * 3] = (Math.random() - 0.5) * 400;
                    positions[i * 3 + 1] = (Math.random() - 0.5) * 400;
                    positions[i * 3 + 2] = (Math.random() - 0.5) * 400;
                }
                pointGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                const pointMaterial = new THREE.PointsMaterial({ color: 0x818cf8, size: 1.5, transparent: true, opacity: 0.8 });
                points = new THREE.Points(pointGeo, pointMaterial);
                scene.add(points);
                regenerateLines();
                window.addEventListener("resize", onWindowResize, false);
                document.addEventListener('mousemove', onMouseMove, false);
                renderer.domElement.addEventListener('click', onCanvasClick, false);
                animate();
            } catch (error) {
                console.error('Error initializing Three.js:', error);
            }
        }
        function onWindowResize() {
            if(camera && renderer) {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }
        }
        let mouseX = 0, mouseY = 0;
        function onMouseMove(event) {
            mouseX = (event.clientX - window.innerWidth / 2) / 100;
            mouseY = (event.clientY - window.innerHeight / 2) / 100;
        }
        function animate() {
            requestAnimationFrame(animate);
            if(scene && camera && renderer && points && lines) {
                points.rotation.y += 0.0005;
                lines.rotation.y += 0.0005;
                camera.position.x += (mouseX - camera.position.x) * 0.05;
                camera.position.y += (-mouseY - camera.position.y) * 0.05;
                camera.lookAt(scene.position);
                renderer.render(scene, camera);
            }
        }
        function onCanvasClick(event) {
            const mouse = new THREE.Vector2();
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            const vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);
            vector.unproject(camera);
            const dir = vector.sub(camera.position).normalize();
            const distance = -camera.position.z / dir.z;
            const pos = camera.position.clone().add(dir.multiplyScalar(distance));
            addPoint(pos);
        }
        function addPoint(position) {
            const oldPositions = points.geometry.attributes.position.array;
            const newPointCount = oldPositions.length / 3 + 1;
            const newPositions = new Float32Array(newPointCount * 3);
            newPositions.set(oldPositions);
            newPositions[oldPositions.length] = position.x;
            newPositions[oldPositions.length + 1] = position.y;
            newPositions[oldPositions.length + 2] = position.z;
            points.geometry.setAttribute('position', new THREE.BufferAttribute(newPositions, 3));
            points.geometry.attributes.position.needsUpdate = true;
            regenerateLines();
        }
        function regenerateLines() {
            if (lines) scene.remove(lines);
            const pointPositions = points.geometry.attributes.position.array;
            const pointCount = pointPositions.length / 3;
            const linePositions = [];
            for (let i = 0; i < pointCount; i++) {
                for (let j = i + 1; j < pointCount; j++) {
                    const dx = pointPositions[i * 3] - pointPositions[j * 3];
                    const dy = pointPositions[i * 3 + 1] - pointPositions[j * 3 + 1];
                    const dz = pointPositions[i * 3 + 2] - pointPositions[j * 3 + 2];
                    const dist = Math.sqrt(dx * dx + dy * dy + dz * dz);
                    if (dist < 50) {
                        linePositions.push(pointPositions[i * 3], pointPositions[i * 3 + 1], pointPositions[i * 3 + 2]);
                        linePositions.push(pointPositions[j * 3], pointPositions[j * 3 + 1], pointPositions[j * 3 + 2]);
                    }
                }
            }
            const lineGeo = new THREE.BufferGeometry();
            lineGeo.setAttribute('position', new THREE.Float32BufferAttribute(linePositions, 3));
            const lineMaterial = new THREE.LineBasicMaterial({ color: 0x22d3ee, opacity: 0.3, transparent: true });
            lines = new THREE.LineSegments(lineGeo, lineMaterial);
            scene.add(lines);
        }

        function setupNavigation() {
            const menuToggleBtn = document.getElementById('menu-toggle-btn');
            const navMenu = document.getElementById('nav-menu');
            menuToggleBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                document.body.classList.toggle('menu-open');
            });
            navMenu.addEventListener('click', (e) => {
                if (e.target.tagName === 'A' && window.innerWidth <= 1024) {
                   document.body.classList.remove('menu-open');
                }
            });
        }

        function setupScrollAnimations() {
            const animatedSections = document.querySelectorAll('[data-animate]');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        const elementsToAnimate = entry.target.querySelectorAll('h2, .tab-nav, .tab-content-container');
                        elementsToAnimate.forEach((el, index) => {
                           el.style.transitionDelay = `${index * 150}ms`;
                        });
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            animatedSections.forEach(section => observer.observe(section));
        }

        function changeTab(event, tabID) {
            let tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            let tabButtons = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }
            document.getElementById(tabID).classList.add('active');
            event.currentTarget.classList.add('active');
        }
    </script>
</body>
</html>
